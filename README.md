# Browser Storage Spy

This tool helps analyze browser storage changes over the course of a session. 

Currently, it supports cookies.

## Install

```
// in project root
npm install
```

### Usage

`urls.txt`

```
https://m.startribune.com/
https://m.startribune.com/overnight-storms-leave-thousands-without-power-in-twin-cities/600195294/

```sh
node src/index.js visit --json < urls.txt > page_view_data.json
```

This command will start a new browser session with a version of headless Chrome controlled via puppeteer. It will navigate from url to url in sequence. Local storage data for each page view will be recorded and output.


## Commands

### Visit

Visit a series of urls and capture data.

```
node src/index.js visit --json < urls.txt > page_view_data.json
```

### Read 

The `read` command takes a path to a data file generated by `visit` transforms it into a special event format that marks which browser storage items were changed, added, or removed between each page navigation.

```
node src/index.js read --json page_view_data.json > event_data.json
```



## Scripts

Useful analysis scripts exist in the `scripts` folder.